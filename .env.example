# ===================================
# CORE CONFIGURATION
# ===================================

# Server port
PORT=4999

# Enable debug logging for troubleshooting
DEBUG=false

# ===================================
# DOCKER CONFIGURATION
# ===================================

# Docker host connection (use with docker-proxy for security)
# DOCKER_HOST=tcp://docker-proxy:2375

# Docker socket path (default: /var/run/docker.sock)
# DOCKER_SOCK=/var/run/docker.sock

# Docker TLS verification (1=enabled, 0=disabled)
# DOCKER_TLS_VERIFY=0

# Docker certificate path for TLS
# DOCKER_CERT_PATH=/path/to/certs

# Docker API cache timeouts (milliseconds)
DOCKER_CACHE_CONTAINERS_TTL_MS=4000
DOCKER_CACHE_INSPECT_TTL_MS=5000
DOCKER_CACHE_STATS_TTL_MS=1500
DOCKER_CACHE_PORTS_TTL_MS=4000

# ===================================
# TRUENAS INTEGRATION
# ===================================

# TrueNAS API key for enhanced features (VMs, containers, system info)
# Get this from TrueNAS UI: System Settings > API Keys
# TRUENAS_API_KEY=

# TrueNAS WebSocket base URL (auto-detected if not set)
# Examples: ws://192.168.1.100:80, wss://truenas.local:443
# TRUENAS_WS_BASE=

# Overall timeout for enhanced features collection (milliseconds)
# Increase if you see timeout errors (systems with many apps/VMs may need 120000-180000)
TRUENAS_TIMEOUT_MS=90000

# Individual API call timeouts (advanced tuning)
# Only adjust these if specific API calls timeout (check logs for which call failed)
# - system.info: Basic system information (rarely slow)
TRUENAS_SYSTEM_INFO_TIMEOUT_MS=30000
# - app.query: TrueNAS apps (slow with 20+ apps, increase to 45000-60000)
TRUENAS_APP_QUERY_TIMEOUT_MS=20000
# - vm.query: Virtual machines (increase if you have many VMs)
TRUENAS_VM_QUERY_TIMEOUT_MS=15000
# - virt.instance.query: LXC containers (increase if you have many containers)
TRUENAS_CONTAINER_QUERY_TIMEOUT_MS=15000

# WebSocket request timeout (should be >= longest individual timeout)
# Increase if individual timeouts are increased
TRUENAS_WS_REQUEST_TIMEOUT_MS=40000

# ===================================
# AUTHENTICATION
# ===================================

# Enable authentication to protect dashboard access
ENABLE_AUTH=false

# Session secret for secure cookie signing
# Generate a strong random string for production
# If not set, a random secret is generated (sessions won't persist across restarts)
# SESSION_SECRET=

# Enable recovery mode for password reset
# A time-limited recovery code will appear in logs (valid 15 minutes)
RECOVERY_MODE=false

# ===================================
# CACHING & PERFORMANCE
# ===================================

# Disable all caching (not recommended for production)
DISABLE_CACHE=false

# Generic collector cache timeout
COLLECTOR_CACHE_TTL_MS=30000

# System collector cache timeouts
SYSTEM_CACHE_SYSTEMINFO_TTL_MS=15000
SYSTEM_CACHE_PORTS_TTL_MS=5000

# Endpoint-level cache timeout for ports
ENDPOINT_CACHE_PORTS_TTL_MS=3000

# Port cache timeout
PORT_CACHE_TTL_MS=5000

# Cache debug logging (for development)
CACHE_DEBUG=false
CACHE_DEBUG_VERBOSE=false

# ===================================
# PORT SCANNING & DETECTION
# ===================================

# Include UDP ports in system scans (may increase noise)
INCLUDE_UDP=false

# Host /proc filesystem path (for containerized deployments)
# HOST_PROC=/host/proc

# ===================================
# PORT GENERATION
# ===================================

# Random port generator range
GENERATE_PORT_MIN=30000
GENERATE_PORT_MAX=60999

# Bind host for port availability testing
GENERATE_PORT_BIND_HOST=0.0.0.0
